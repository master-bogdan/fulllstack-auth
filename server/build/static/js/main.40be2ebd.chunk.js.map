{"version":3,"sources":["contexts/UserContext.js","pages/Login/Login.js","pages/Login/index.js","pages/User/User.js","pages/User/index.js","routes/index.js","App.js","index.js"],"names":["UserContext","React","createContext","UserContextProvider","children","history","useHistory","useState","user","setUser","useEffect","loggedInUser","localStorage","getItem","foundUser","JSON","parse","push","Provider","value","layout","labelCol","span","wrapperCol","tailLayout","offset","Login","useContext","Form","useForm","form","errorMessage","setErrorMessage","onFinish","values","a","axios","post","data","success","setItem","stringify","auth","name","username","console","log","response","error","initialValues","remember","Item","message","type","showIcon","label","rules","required","Password","block","htmlType","onClick","setFieldsValue","email","password","Title","Typography","Text","User","style","textAlign","level","layoutStyles","height","display","justifyContent","alignItems","Routes","exact","path","component","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.40be2ebd.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nexport const UserContext = React.createContext({});\n\nexport const UserContextProvider = ({ children }) => {\n  const history = useHistory();\n  const [user, setUser] = useState({});\n\n  useEffect(() => {\n    const loggedInUser = localStorage.getItem('user-auth');\n\n    if (loggedInUser) {\n      const foundUser = JSON.parse(loggedInUser);\n      if (foundUser) {\n        setUser(foundUser);\n        history.push('/');\n      } else {\n        history.push('/login');\n      }\n    } else {\n      history.push('/login');\n    }\n  }, [history]);\n\n  return (\n    <UserContext.Provider value={{ user, setUser }}>\n      {children}\n    </UserContext.Provider>\n  );\n};\n","import React, { useState, useContext } from 'react';\nimport { UserContext } from 'contexts/UserContext';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport {\n  Form,\n  Input,\n  Button,\n  Alert,\n} from 'antd';\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\n\nconst tailLayout = {\n  wrapperCol: {\n    offset: 8,\n    span: 16,\n  },\n};\n\nconst Login = () => {\n  const { setUser } = useContext(UserContext);\n  const [form] = Form.useForm();\n  const history = useHistory();\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  const onFinish = async (values) => {\n    try {\n      const { data } = await axios.post('/auth', values);\n\n      if (data.success) {\n        localStorage.setItem('user-auth', JSON.stringify({ auth: true, name: data.username }));\n        setUser({ auth: true, name: data.username });\n        history.push('/');\n      }\n    } catch (error) {\n      console.log(error.response.data);\n      setErrorMessage(error.response.data.error);\n    }\n  };\n\n  const onFill = () => {\n    form.setFieldsValue({\n      email: 'test@testmail.com',\n      password: '12345',\n    });\n  };\n\n  return (\n    <Form\n      {...layout}\n      form={form}\n      name=\"login\"\n      initialValues={{\n        remember: true,\n      }}\n      onFinish={onFinish}\n    >\n      {errorMessage && (\n        <Form.Item {...tailLayout}>\n          <Alert message={errorMessage} type=\"error\" showIcon />\n        </Form.Item>\n      )}\n\n      <Form.Item\n        label=\"Email\"\n        name=\"email\"\n        type=\"email\"\n        rules={[\n          {\n            required: true,\n            message: 'Please input your email!',\n          },\n        ]}\n      >\n        <Input />\n      </Form.Item>\n\n      <Form.Item\n        label=\"Password\"\n        name=\"password\"\n        rules={[\n          {\n            required: true,\n            message: 'Please input your password!',\n          },\n        ]}\n      >\n        <Input.Password />\n      </Form.Item>\n\n      <Form.Item {...tailLayout}>\n        <Button block type=\"primary\" htmlType=\"submit\">\n          Submit\n        </Button>\n      </Form.Item>\n      <Form.Item {...tailLayout}>\n        <Button block type=\"link\" htmlType=\"button\" onClick={onFill}>\n          Fill test login\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n};\n\nexport default Login;\n","import Login from './Login';\n\nexport default Login;\n","import React, { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { UserContext } from 'contexts/UserContext';\nimport { Button, Typography, Space } from 'antd';\n\nconst { Title, Text } = Typography;\n\nconst User = () => {\n  const history = useHistory();\n  const { user } = useContext(UserContext);\n\n  const logOut = () => {\n    localStorage.setItem('user-auth', false);\n    history.push('/login');\n  };\n\n  return (\n    <div>\n      <Title style={{ textAlign: 'center' }} level={2}>\n        <Text>Hello</Text>\n        <br />\n        <Text type=\"success\">\n          {user.name}\n        </Text>\n      </Title>\n      <Button onClick={logOut} type=\"primary\" block>\n        Logout\n      </Button>\n    </div>\n  );\n};\n\nexport default User;\n","import User from './User';\n\nexport default User;\n","import React from 'react';\nimport { Layout } from 'antd';\nimport {\n  Switch,\n  Route,\n} from 'react-router-dom';\nimport Login from 'pages/Login';\nimport User from 'pages/User';\n\nconst layoutStyles = {\n  height: '100vh',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n};\n\nconst Routes = () => (\n  <Layout style={layoutStyles}>\n    <Switch>\n      <Route exact path=\"/\" component={User} />\n      <Route path=\"/login\" component={Login} />\n    </Switch>\n  </Layout>\n);\n\nexport default Routes;\n","import React from 'react';\nimport Routes from 'routes';\n\nconst App = () => (\n  <>\n    <Routes />\n  </>\n);\n\nexport default App;\n","import React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { UserContextProvider } from './contexts/UserContext';\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <UserContextProvider>\n        <App />\n      </UserContextProvider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}